Credit for this code goes to

  https://dev.to/orkhanjafarovr/real-compass-on-mobile-browsers-with-javascript-3emi

I am just playing a bit with it.
You can use my version here:

https://lborgman.github.io/compass/compass.html
